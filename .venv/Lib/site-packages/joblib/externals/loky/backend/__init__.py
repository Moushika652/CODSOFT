import os
from multiprocessing import synchronize

from .context import get_context #type: ignore


def _make_name():
    return f"/loky-{os.getpid()}-{next(synchronize.SemLock._rand)}" #type: ignore


# monkey patch the name creation for multiprocessing
synchronize.SemLock._make_name = staticmethod(_make_name) #type: ignore

__all__ = ["get_context"]
