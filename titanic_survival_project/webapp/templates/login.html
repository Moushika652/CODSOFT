<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Login</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Merriweather:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
  </head>
  <body>
    <section class="full-hero">
      <div class="hero-header">
        <div style="display:flex; align-items:center; gap:12px">
          <div style="font-weight:800; color:#fff; font-family:'Merriweather',serif; font-size:20px">TITANIC</div>
          <div style="color:rgba(255,255,255,0.85)">Predictions</div>
        </div>
      </div>

      <div class="modal-card" role="main" aria-labelledby="login-title" id="loginModal">
        <div class="modal-logo">
          <div class="mark">TG</div>
          <div>
            <div style="font-weight:800; font-size:16px">GYMOOD AI</div>
            <div style="font-size:12px; color:rgba(255,255,255,0.85)">Sign in to continue</div>
          </div>
        </div>
        <div class="social-row">
          <button class="social-btn social-google">Google</button>
          <button class="social-btn social-apple">Apple</button>
        </div>
        <div class="or-separator"><hr/><div>Or</div><hr/></div>
        <h2 id="login-title">Sign in</h2>
        {% with messages = get_flashed_messages(with_categories=true) %}
          {% if messages %}
            {% for cat, msg in messages %}
              <div class="flash {{ cat }}">{{ msg }}</div>
            {% endfor %}
          {% endif %}
        {% endwith %}
        <form method="post" action="/login" aria-label="Login form" novalidate>
          <label for="username">Username</label>
          <div class="input-row">
            <input id="username" name="username" placeholder="admin@example.com" required autocomplete="username" aria-required="true">
          </div>
          <label for="password">Password</label>
          <div class="input-row">
            <input id="password" name="password" type="password" placeholder="password" required autocomplete="current-password" aria-required="true">
            <button type="button" class="pw-toggle" aria-label="Toggle password" onclick="togglePassword()">Show</button>
          </div>
          <div class="remember-row">
            <label><input type="checkbox" name="remember"> Remember me</label>
            <a href="#" style="color:rgba(255,255,255,0.9); text-decoration:underline">Forgot?</a>
          </div>
          <button type="submit">Sign in</button>
        </form>
        <small class="modal-hint">Demo credentials: <strong>admin</strong> / <strong>admin</strong></small>
      </div>
    </section>
    <script>
      // small helper to toggle password visibility
      function togglePassword(){
        const pw = document.getElementById('password');
        const btn = document.querySelector('.pw-toggle');
        if(!pw) return;
        if(pw.type === 'password'){
          pw.type = 'text';
          if(btn) btn.textContent = 'Hide';
        } else {
          pw.type = 'password';
          if(btn) btn.textContent = 'Show';
        }
      }
      // animate modal entrance
      window.addEventListener('DOMContentLoaded', ()=>{
        const m = document.getElementById('loginModal');
        if(m) m.classList.add('visible');
      });
    </script>
  </body>
</html>
