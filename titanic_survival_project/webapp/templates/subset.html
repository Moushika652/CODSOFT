<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>{{ title }} - Dataset</title>
    <style>
      {% if title == 'Not survived' %}
      body { font-family: Arial, Helvetica, sans-serif; margin: 20px; color: #3a2c0a; background: linear-gradient(180deg,#fff3e0 0%, #ffd8a8 100%); }
      .card { background: #fff8f2; padding: 18px; border-radius: 8px; max-width: 1200px; margin: auto; box-shadow:0 6px 18px rgba(0,0,0,0.06);} 
      table { border-collapse: collapse; width: 100%; color: #3a2c0a }
      th { background:#ff9800; color:#2b1700; padding:8px; text-align:left }
      td { border:1px solid rgba(0,0,0,0.06); padding:6px }
      .meta { margin-bottom:12px; color:#5a3b12 }
      a.button { display:inline-block; padding:10px 14px; background:#fb8c00; color:#fff; border-radius:8px; text-decoration:none }
      {% elif title == 'Survived' %}
      body { font-family: Arial, Helvetica, sans-serif; margin: 20px; color: #2b1a3b; background: linear-gradient(180deg,#f3e8ff 0%, #e9d5ff 100%); }
      .card { background: #fbf6ff; padding: 18px; border-radius: 8px; max-width: 1200px; margin: auto; box-shadow:0 6px 18px rgba(0,0,0,0.04);} 
      table { border-collapse: collapse; width: 100%; color: #2b1a3b }
      th { background:#7c3aed; color:#fff; padding:8px; text-align:left }
      td { border:1px solid rgba(0,0,0,0.04); padding:6px }
      .meta { margin-bottom:12px; color:#4a2f6b }
      a.button { display:inline-block; padding:10px 14px; background:#7c3aed; color:#fff; border-radius:8px; text-decoration:none }
      {% else %}
      body { font-family: Arial, Helvetica, sans-serif; margin: 20px; color: #222; background: #f3f6fb; }
      .card { background: #fff; padding: 18px; border-radius: 8px; max-width: 1200px; margin: auto; box-shadow:0 6px 18px rgba(0,0,0,0.05);} 
      table { border-collapse: collapse; width: 100%; }
      th { background:#2f4f7a; color:#fff; padding:8px; text-align:left }
      td { border:1px solid rgba(0,0,0,0.06); padding:6px }
      .meta { margin-bottom:12px }
      a.button { display:inline-block; padding:10px 14px; background:#0b63a3; color:#fff; border-radius:8px; text-decoration:none }
      {% endif %}
    </style>
  </head>
  <body>
    <div class="card">
      <h2>{{ title }} dataset</h2>
      <p class="meta"><a class="button" href="/dashboard">Back to dashboard</a> &nbsp; <a class="button" href="/download">Download CSV</a></p>
      {% if message %}
        <p>{{ message }}</p>
      {% else %}
      <div style="overflow:auto; max-height:75vh;">
        <table>
          <thead>
            <tr>
              {% if rows and rows[0] %}
                {% for k in rows[0].keys() %}
                  <th>{{ k }}</th>
                {% endfor %}
              {% else %}
                <th>No columns</th>
              {% endif %}
            </tr>
          </thead>
          <tbody>
            {% for r in rows %}
              <tr>
                {% for v in r.values() %}
                  <td>{{ v }}</td>
                {% endfor %}
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
      {% endif %}
    </div>
  </body>
</html>
